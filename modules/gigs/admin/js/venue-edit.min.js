jQuery(function(e){var t=e("#venue-city"),i=e("#venue-state"),a=e("#venue-country"),n=e("#venue-timezone-string");t.autocomplete({source:function(t,i){e.ajax({url:"http://ws.geonames.org/searchJSON",data:{featureClass:"P",style:"full",maxRows:12,name_startsWith:t.term},dataType:"jsonp",success:function(t){i(e.map(t.geonames,function(e){return{label:e.name+(e.adminName1?", "+e.adminName1:"")+", "+e.countryName,value:e.name,adminCode:e.adminCode1,countryName:e.countryName,timezone:e.timezone.timeZoneId}}))}})},minLength:2,select:function(e,t){""===i.val()&&i.val(t.item.adminCode),""===a.val()&&a.val(t.item.countryName),n.find('option[value="'+t.item.timezone+'"]').attr("selected","selected")}})});